<div class="h-full bg-gray-50 flex flex-col overflow-hidden">
  <app-header-common
    [title]="isCheckoutFlow ? 'Abholautomat auswählen' : 'Automat auswählen'"
    titleKey="location.selectPickup"
    class="flex-none sticky top-0 z-[50]"
  ></app-header-common>

  <div class="container mx-auto px-4 flex-1 overflow-y-auto">
    <!-- Location Map Component -->
    <app-location-map
      [mode]="'select'"
      [selectedMachineId]="selectedMachine?.id"
      [medicationIds]="medicationIdsAsNumbers"
      (machineSelected)="onMachineSelected($event)"
    ></app-location-map>

    <!-- Action Buttons -->
    <div class="mt-6 flex gap-4" *ngIf="selectedMachine">
      <button
        (click)="goBack()"
        class="flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors"
      >
        {{ 'common.back' | transloco }}
      </button>
      <button
        (click)="confirmSelection()"
        class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
      >
        {{ 'location.continue' | transloco }}
      </button>
    </div>
  </div>
</div>
